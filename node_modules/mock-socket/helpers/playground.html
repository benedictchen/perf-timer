<html>
<head>
  <meta charset="utf-8">
  <title>Mock Sockets Playground</title>
</head>
<body>
  <script src="//localhost:4200/mock-socket.js"></script>
  <script>
    /*
    * Here is a sample playground for inspecting actual websocket objects to make sure that
    * the mock version is correctly behaving as it should.
    *
    * First run: npm run-script ws
    * Next: visit tests/index.html in your browser and open up the console
    */
    var sampleWS = new WebSocket('ws://localhost:8080', ['testing5', 'testing2']);

    sampleWS.onopen = function(event) {
      debugger;
      this.close();
    };
    sampleWS.onmessage = function(event) {
      debugger;
    };
    sampleWS.onclose = function(event) {
      debugger;
      this.close();
    };
    sampleWS.onerror = function(event) {
      debugger;
    };

    var mockServer = new MockServer('ws://localhost:8081');

    mockServer.on('connection', function() {
      mockServer.send('testing');
    });


    var mockSocket = new MockSocket('ws://localhost:8081');

    mockSocket.onopen = function(event) {
      debugger;
      this.close();
    }

    mockSocket.onclose = function(event) {
      debugger;
      this.close();
    }
  </script>
</body>
</html>
